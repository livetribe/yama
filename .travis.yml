os:
  - linux
  - osx
  - windows
sudo: false
language: go
go_import_path: l7e.io/yama
# Force-enable Go modules. Also force go to use the code in vendor/
# These will both be unnecessary when Go 1.14 lands.
env: GO111MODULE=on
go:
  - 1.11.x
  - 1.12.x
  - 1.13.x
before_install:
  - go install golang.org/x/lint/golint
  - go install github.com/mattn/goveralls
script:
  - if [ "$TRAVIS_OS_NAME" != 'windows' ]; then $GOPATH/bin/golint -set_exit_status ./... ; fi
  - $GOPATH/bin/goveralls -service=travis-ci -race -v
after_success:
  - bash <(curl -s https://codecov.io/bash)
